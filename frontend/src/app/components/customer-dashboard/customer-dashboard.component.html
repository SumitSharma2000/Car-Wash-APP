<!-- Navigation Bar -->
<nav class="navbar">
  <div class="nav-container">
    <div class="nav-logo">
      <i class="fas fa-car"></i>
      <span>CarWash Pro</span>
    </div>
    <ul class="nav-menu">
      <li><a (click)="scrollTo('home')">Home</a></li>
      <li><a (click)="scrollTo('book')">Book Now</a></li>
      <li><a (click)="scrollTo('status')">Check Status</a></li>
      <li><a (click)="scrollTo('about')">About Us</a></li>
      <li><a (click)="scrollTo('faq')">FAQ</a></li>
      <li><a (click)="scrollTo('feedback')">Feedback</a></li>
      <li><a (click)="scrollTo('contact')">Contact</a></li>
      <li><button class="logout-btn" (click)="logout()">Logout</button></li>
    </ul>
  </div>
</nav>

<!-- Hero Section -->
<section id="home" class="hero-section">
  <div class="hero-content">
    <h1 class="hero-title">Welcome {{currentUser?.name}}!</h1>
    <p class="hero-subtitle">Premium Car Wash Services at Your Doorstep</p>
    <div class="hero-buttons">
      <button class="btn btn-primary" (click)="scrollTo('book')">
        <i class="fas fa-calendar-plus"></i>
        Book Now
      </button>
      <button class="btn btn-secondary" (click)="scrollTo('status')">
        <i class="fas fa-search"></i>
        Check Status
      </button>
    </div>
  </div>
  <div class="hero-bg"></div>
</section>

<!-- Book Service Section -->
<section id="book" class="book-section">
  <div class="container">
    <h2 class="section-title">Book Your Service</h2>
    <div class="services-grid">
      <div class="service-card" *ngFor="let service of services">
        <div class="service-icon">
          <i [class]="service.icon"></i>
        </div>
        <h3>{{service.name}}</h3>
        <p>{{service.description}}</p>
        <div class="service-price">${{service.price}}</div>
        <button class="btn btn-book" (click)="openBookingForm(service)">Book Now</button>
      </div>
    </div>
  </div>
</section>

<!-- Booking Form Modal -->
<div class="modal" [class.show]="showBookingForm" (click)="closeBookingForm()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Book {{selectedService?.name}}</h3>
      <button class="close-btn" (click)="closeBookingForm()">&times;</button>
    </div>
    <form (ngSubmit)="submitBooking()" #bookingForm="ngForm">
      <div class="form-group">
        <label>Select Date</label>
        <div class="calendar-widget">
          <div class="calendar-header">
            <button type="button" class="nav-btn" (click)="previousMonth()">&lt;</button>
            <span class="month-year">{{currentMonth}} {{currentYear}}</span>
            <button type="button" class="nav-btn" (click)="nextMonth()">&gt;</button>
          </div>
          <div class="calendar-days">
            <div class="day-header" *ngFor="let day of dayHeaders">{{day}}</div>
            <div class="calendar-day" 
                 *ngFor="let day of calendarDays" 
                 [class.other-month]="!day.currentMonth"
                 [class.selected]="day.selected"
                 [class.disabled]="day.disabled"
                 (click)="selectDate(day)">
              {{day.date}}
            </div>
          </div>
        </div>
        <input type="hidden" [(ngModel)]="bookingData.date" name="date" required>
      </div>
      <div class="form-group">
        <label>Select Time Slot</label>
        <div class="time-slots-container">
          <div class="time-slot" 
               *ngFor="let slot of timeSlots" 
               [class.selected]="bookingData.time === slot"
               (click)="selectTimeSlot(slot)">
            {{slot}}
          </div>
        </div>
        <input type="hidden" [(ngModel)]="bookingData.time" name="time" required>
      </div>
      <div class="form-group">
        <label>Address</label>
        <input type="text" [(ngModel)]="bookingData.address" name="address" placeholder="Enter your address" required>
      </div>
      <div class="form-group">
        <label>Phone</label>
        <input type="tel" [(ngModel)]="bookingData.phone" name="phone" placeholder="Your phone number" required>
      </div>
      <div class="booking-summary">
        <p><strong>Service:</strong> {{selectedService?.name}}</p>
        <p><strong>Price:</strong> ${{selectedService?.price}}</p>
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="!bookingForm.valid">Confirm Booking</button>
    </form>
  </div>
</div>

<!-- Success Modal -->
<div class="modal" [class.show]="showSuccessModal" (click)="closeSuccessModal()">
  <div class="modal-content success-modal" (click)="$event.stopPropagation()">
    <div class="success-icon">
      <i class="fas fa-check-circle"></i>
    </div>
    <h3>Booking Confirmed!</h3>
    <p>Your booking has been successfully placed.</p>
    <div class="booking-details">
      <p><strong>Booking ID:</strong> #{{lastBookingId}}</p>
      <p><strong>Service:</strong> {{selectedService?.name}}</p>
      <p><strong>Date:</strong> {{bookingData.date}} at {{bookingData.time}}</p>
    </div>
    <button class="btn btn-primary" (click)="closeSuccessModal()">OK</button>
  </div>
</div>

<!-- Status Section -->
<section id="status" class="status-section">
  <div class="container">
    <h2 class="section-title">Your Bookings</h2>
    <div class="bookings-grid">
      <div class="booking-card" *ngFor="let booking of bookings">
        <div class="booking-header">
          <div class="booking-id">#{{booking.id}}</div>
          <span class="status-badge" [class]="'status-' + booking.status.toLowerCase()">
            {{booking.status}}
          </span>
        </div>
        <div class="booking-info">
          <h4>{{booking.serviceType}}</h4>
          <div class="booking-details">
            <p><i class="fas fa-calendar"></i> {{booking.date}} at {{booking.time}}</p>
            <p><i class="fas fa-map-marker-alt"></i> {{booking.location}}</p>
            <p><i class="fas fa-phone"></i> {{booking.phone}}</p>
            <p><i class="fas fa-dollar-sign"></i> ${{booking.price}}</p>
          </div>
        </div>
        <div class="booking-actions" *ngIf="booking.status === 'COMPLETED'">
          <button class="btn btn-download" (click)="downloadReceipt(booking)">
            <i class="fas fa-download"></i> Download Receipt
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section id="about" class="about-section">
  <div class="container">
    <h2 class="section-title">About CarWash Pro</h2>
    <div class="about-content">
      <div class="about-text">
        <p>We provide premium car wash services with eco-friendly products and professional care. Our mission is to keep your vehicle spotless while protecting the environment.</p>
        <div class="features">
          <div class="feature">
            <i class="fas fa-leaf"></i>
            <span>Eco-Friendly</span>
          </div>
          <div class="feature">
            <i class="fas fa-clock"></i>
            <span>Quick Service</span>
          </div>
          <div class="feature">
            <i class="fas fa-shield-alt"></i>
            <span>Insured</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ Section -->
<section id="faq" class="faq-section">
  <div class="container">
    <h2 class="section-title">Frequently Asked Questions</h2>
    <div class="faq-list">
      <div class="faq-item" *ngFor="let faq of faqs; let i = index">
        <div class="faq-question" (click)="toggleFaq(i)">
          <span>{{faq.question}}</span>
          <i class="fas fa-chevron-down" [class.rotated]="faq.open"></i>
        </div>
        <div class="faq-answer" [class.open]="faq.open">
          <p>{{faq.answer}}</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Feedback Section -->
<section id="feedback" class="feedback-section">
  <div class="container">
    <h2 class="section-title">Happy Customers</h2>
    <div class="testimonials-grid">
      <div class="testimonial-card" *ngFor="let testimonial of testimonials">
        <div class="stars">
          <i class="fas fa-star" *ngFor="let star of getStars(testimonial.rating)"></i>
        </div>
        <p>"{{testimonial.comment}}"</p>
        <div class="customer-info">
          <strong>{{testimonial.name}}</strong>
        </div>
      </div>
    </div>
    <div class="overall-rating">
      <h3>Overall Rating</h3>
      <div class="rating-display">
        <span class="rating-number">4.8</span>
        <div class="stars-large">
          <i class="fas fa-star"></i>
          <i class="fas fa-star"></i>
          <i class="fas fa-star"></i>
          <i class="fas fa-star"></i>
          <i class="fas fa-star"></i>
        </div>
        <span class="rating-text">Based on 500+ reviews</span>
      </div>
    </div>
  </div>
</section>

<!-- Footer Section -->
<footer id="contact" class="footer">
  <div class="footer-container">
    <div class="footer-main">
      <div class="footer-brand">
        <div class="brand-logo">
          <i class="fas fa-car"></i>
          <h2>CarWash Pro</h2>
        </div>
        <p>Premium car wash services at your doorstep. Professional, reliable, and eco-friendly.</p>
      </div>
      
      <div class="footer-links">
        <h3>Quick Links</h3>
        <ul>
          <li><a (click)="scrollTo('home')">Home</a></li>
          <li><a (click)="scrollTo('book')">Book Service</a></li>
          <li><a (click)="scrollTo('about')">About Us</a></li>
          <li><a (click)="scrollTo('faq')">FAQ</a></li>
        </ul>
      </div>
      
      <div class="footer-contact">
        <h3>Contact</h3>
        <div class="contact-info">
          <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
          <p><i class="fas fa-envelope"></i> info&#64;carwashpro.com</p>
          <p><i class="fas fa-map-marker-alt"></i> 123 Clean Street, Wash City</p>
        </div>
      </div>
      
      <div class="footer-social">
        <h3>Follow Us</h3>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2025 CarWash Services. All rights reserved.</p>
    </div>
  </div>
</footer>